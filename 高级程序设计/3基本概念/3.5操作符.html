<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>3.5操作符</title>
</head>
<body>
    <script>
        // 1.递增和递减操作符
        //有两种，前置型和后置型

        //前置型(++m,--m)
        var age = 29;
        ++age;
        // 相当于，age =age+1

        //执行前置递增和前置递减时。变量值都是在语句被求值以前改变的
        var age1 = 29;
        var anotherAge = --age+2;
        console.log(age1);              //29
        console.log(anotherAge);        //31

        // 前置递增和递减操作与执行语句的优先级相等，因此整个语句会从左至右被求值
        var num1 = 2;
        var num2 = 20;
        var num3 = --num1+num2;
        var num4 = num1+num2;
        console.log(num3);
        console.log(num4);

        //后置型(n--,n++)
        //与前置型不一样的是，递增和递减操作是在包含在它们的语句被求值之后才执行的
        var num5 = 2;
        var num6 = 20;
        var num7 = num5-- +num6;
        var num8 = num5+num6;
        console.log(num7);
        console.log(num8);

        // 2.一元加和减操作符（+\-）
        // 对非数值应用一元加操作符，会以Number()对这个值进行转换
        // 我们常用下面的方法来获得当前的时间戳，例如：
        // var timestamp = +new Date();

        

    </script>
    <script>
        // 3.5.2位操作符
        // 1，NOT(~)
        // 由一个波浪线表示，返回数值的编码

        // 骚操作
        // 这个操作符除了-1的返回0，其余的返回n的绝对值减一。
        var a1 = "Hello World";
        if (a1.indexOf("lo") >= 0) { // true // 找到匹配！ 
        } 
        if (a1.indexOf("lo") != -1) { // true // 找到匹配！ 
        } 
        if (a1.indexOf("ol") < 0) { // true // 没有找到匹配！ 
        } 
        if (a1.indexOf("ol") == -1) { // true // 没有找到匹配！ 
        }

        ~a1.indexOf("lo"); // -4 <-- 真值! 
        if (~a1.indexOf("lo")) { // true // 找到匹配！ 
        } 
        ~a1.indexOf("ol"); // 0 <-- 假值!
        !~a1.indexOf("ol"); // true 
        if (!~a1.indexOf("ol")) { // true // 没有找到匹配！ 
        }
        var arr = [1,2,3]
        console.log(arr.indexOf(1)>-1);     //大于-1为true
        console.log(!!~arr.indexOf(1));     //大于-1的返回0，并转为boolean，即大于-1为true

        // 2按位与（&）
        // 只有两者为true才会返回true

        // 3按位或（|）
        // 其中一个条件为true就返回true
    
    </script>
    <script>
        // 3.5.3
        // 布尔操作符
        // 1.逻辑非(!)
        // 规则（跟转Boolean()相反）
        // 对象:false
        // 空字符串:true
        // 非空字符串:true
        // 0:true
        // 非0(含Infinity):false
        // null:true
        // NaN:true
        // undefined:true

        //同时使用两个逻辑非操作符，实际上就会模拟Boolean()转型函数的行为

        // 2.逻辑与(&&)
        // 逻辑与操作属于短路操作，如果第一个操作数能够决定结果，那么就不会再对第二个操作数求值
        // 如果第一个操作数为null，返回null
        // 如果第一个操作数为NaN,返回NaN
        // 如果第一个操作数为undefined，返回undefined
        var found = true;
        try {
            console.log(found && noFindVar)
        } catch (err) {
            console.log(err)
        }

        var found1 = false;
        console.log(found1 && noFindVar);


        // 3.逻辑或(||)
        // 逻辑或也是短路操作，如果第一个操作数能true,也不会对第二个数求值了
        // 如果第一个操作数为null，返回null
        // 如果第一个操作数为NaN,返回NaN
        // 如果第一个操作数为undefined，返回undefined
        var a2 = 42;
        var b2 = "abc";
        var c2 = null;
        a2 || b2; // 42
        a2 && b2; // "abc"
        c2 || b2; // "abc"
        c2 && b2; // null
    </script>
    <script>
        // 3.5.4 乘性操作符
        // 1.乘法
        // 乘积超过ECMAScript范围的，返回infinity或-infinity
        // 有一个操作数是NaN,结果是NaN                                                  
        // infinity与0相乘，结果是NaN,                                                 
        // infinity与非0相乘，结果是infinity或-infinity，取决于有符号操作数的符号
        // infinity与infinity相乘，infinity
        // 有一个数不是数值，调用Number()将其转为数值，再应用上面的规则

        // 2.除法
        // 商超过ECMAScript范围的，返回infinity或-infinity
        // 有一个操作数是NaN,结果是NaN
        // infinity被infinity除，结果是NaN
        // 0被0除，NaN
        // 非0数字（含infinity）除以0，结果是infinity或-infinity，取决于有符号操作数的符号
        // 有一个数不是数值，调用Number()将其转为数值，再应用上面的规则

        // 3.求模
        // 如果被除数为0，结果为0     
        // 
        
    </script>
    <script>
        //3.5.5佳加性操作符
        // 1.加法
        // 其中一个为NaN,结果为NaN
        // Infinity+Infinity        Infinity
        // -Infinity+(-Infinity)    -Infinity
        // -Infinity+Infinity       NaN
        // +0+(+0)                  +0
        // -0+(-0)                  -0
        // +0+(-0)                  +0
        // 有一个数是字符串
        // 两者都是字符串，将第二个操作数和第一个操作数拼接起来
        // 只有一个操作数是字符串，把另一个操作数转换为字符串，再把两个字符串拼接起来
        // 如果有一个操作数是对象、数值、布尔值，调用toString获得相应的字符串值。对于undifined和null，调用String()函数取得字符串"undefined"和"null"

        // 2.减法
        // 有一个操作数是NaN         NaN
        // Infinity-Infinity        NaN
        // -Infinity-(-Infinity)    NaN
        // Infinity-(-Infinity)     Infinity
        // -Infinity-(-Infinity)    -Infinity
        // +0-(+0)                  +0
        // -0-(+0)                  -0
        // -0-(-0)                  -0
        // 有一个操作数是字符串、布尔值、null、undefined，在后台调用Number()转换为数值，再根据前面的规则进行转换。转换的结果为NaN，则结果就为NaN
        // 有一个操作数是对象，调用valueof()方法进行转换，对象没有valueOf()则调用toString()并将得到的字符串转为数字

        
    </script>
    <script>
        // 3.5.7 相等操作符
        // 1.想等和不相等
        // 有一个是布尔值，将其转换为数值
        // 有一个是字符串，另一个是数值，将字符串转为数值
        // 有一个是对象，另一个不是。调用valueof()，得到的基本类型值按照前面的规则进行比较
        // null==undefined
        // NaN不与任何值相等，包括自身
        // 两个操作数是对象，比较是不是都指向同一个对象
        console.log(null==undefined);   // true
        console.log(false==0);          // true
        console.log(true==1)            // true
        console.log('5'==5)             // true
        console.log(undefined==0)       // false
        console.log(null==0)            //false
    </script>
</body>
</html>